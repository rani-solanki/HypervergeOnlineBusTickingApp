{"ast":null,"code":"import _regeneratorRuntime from\"/home/rani/Documents/Red_bus_app/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/rani/Documents/Red_bus_app/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{ADD_LOCATION,ADD_LOCATION_FAIL}from'./type';import axios from'axios';import setAlert from'./aleart';var addLocation=function addLocation(_ref){var city=_ref.city,state=_ref.state;return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,body,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config={headers:{'Content-Type':'application/json'}};body=JSON.stringify({city:city,state:state});_context.prev=2;_context.next=5;return axios.post('/api/admins/admin/location',body,config);case 5:res=_context.sent;dispatch({type:ADD_LOCATION,payload:res.data});dispatch(alert('Location has been added','success'));_context.next=15;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);dispatch(setAlert('Location is already exists','danger'));console.log(_context.t0);dispatch({type:ADD_LOCATION_FAIL});case 15:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function(_x){return _ref2.apply(this,arguments);};}();};export default addLocation;","map":{"version":3,"sources":["/home/rani/Documents/Red_bus_app/Frontend/src/action/Location.js"],"names":["ADD_LOCATION","ADD_LOCATION_FAIL","axios","setAlert","addLocation","city","state","dispatch","config","headers","body","JSON","stringify","post","res","type","payload","data","alert","console","log"],"mappings":"6TAAA,OAASA,YAAT,CAAuBC,iBAAvB,KAAgD,QAAhD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,UAAGC,CAAAA,IAAH,MAAGA,IAAH,CAASC,KAAT,MAASA,KAAT,iGAAqB,iBAAMC,QAAN,sIAC/BC,MAD+B,CACtB,CACXC,OAAO,CAAE,CACL,eAAgB,kBADX,CADE,CADsB,CAO/BC,IAP+B,CAOxBC,IAAI,CAACC,SAAL,CAAe,CAAEP,IAAI,CAAJA,IAAF,CAAQC,KAAK,CAALA,KAAR,CAAf,CAPwB,uCAUfJ,CAAAA,KAAK,CAACW,IAAN,CAAW,4BAAX,CAAyCH,IAAzC,CAA+CF,MAA/C,CAVe,QAU3BM,GAV2B,eAWjCP,QAAQ,CAAC,CACLQ,IAAI,CAAEf,YADD,CAELgB,OAAO,CAAEF,GAAG,CAACG,IAFR,CAAD,CAAR,CAIAV,QAAQ,CAACW,KAAK,CAAC,yBAAD,CAA4B,SAA5B,CAAN,CAAR,CAfiC,iFAiBjCX,QAAQ,CAACJ,QAAQ,CAAC,4BAAD,CAA+B,QAA/B,CAAT,CAAR,CACAgB,OAAO,CAACC,GAAR,cACAb,QAAQ,CAAC,CAAEQ,IAAI,CAAEd,iBAAR,CAAD,CAAR,CAnBiC,qEAArB,iEAApB,CAsBA,cAAeG,CAAAA,WAAf","sourcesContent":["import { ADD_LOCATION, ADD_LOCATION_FAIL } from './type';\nimport axios from 'axios';\nimport setAlert from './aleart';\n\nconst addLocation = ({ city, state }) => async dispatch => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    };\n    \n    const body = JSON.stringify({ city, state });\n\n    try {\n        const res = await axios.post('/api/admins/admin/location', body, config);\n        dispatch({\n            type: ADD_LOCATION,\n            payload: res.data\n        });\n        dispatch(alert('Location has been added', 'success'));\n    } catch (err) {\n        dispatch(setAlert('Location is already exists', 'danger'));\n        console.log(err);\n        dispatch({ type: ADD_LOCATION_FAIL });\n    }\n};\nexport default addLocation;"]},"metadata":{},"sourceType":"module"}