{"ast":null,"code":"import _regeneratorRuntime from\"/home/rani/Documents/Red_bus_app/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/rani/Documents/Red_bus_app/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{ADD_STAFF,ADD_STAFF_FAIL}from'./type';import axios from'axios';import setAlert from'./aleart';var Staff=function Staff(_ref){var name=_ref.name,phone=_ref.phone,address=_ref.address,agencyName=_ref.agencyName,isDriver=_ref.isDriver;return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,body,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config={headers:{'Content-Type':'application/json'}};body=JSON.stringify({name:name,phone:phone,address:address,agencyName:agencyName,isDriver:isDriver});_context.prev=2;_context.next=5;return axios.post('/api/admins/admin/addStaff',body,config);case 5:res=_context.sent;console.log(res);dispatch({type:ADD_STAFF,payload:res.data});alert('Staff has been added','success');_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);alert('staff is already exists','success');dispatch({type:ADD_STAFF_FAIL});case 15:case\"end\":return _context.stop();}}},_callee,null,[[2,11]]);}));return function(_x){return _ref2.apply(this,arguments);};}();};export default Staff;","map":{"version":3,"sources":["/home/rani/Documents/Red_bus_app/Frontend/src/action/staff.js"],"names":["ADD_STAFF","ADD_STAFF_FAIL","axios","setAlert","Staff","name","phone","address","agencyName","isDriver","dispatch","config","headers","body","JSON","stringify","post","res","console","log","type","payload","data","alert"],"mappings":"6TAAA,OAASA,SAAT,CAAoBC,cAApB,KAA0C,QAA1C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,UAAGC,CAAAA,IAAH,MAAGA,IAAH,CAASC,KAAT,MAASA,KAAT,CAAgBC,OAAhB,MAAgBA,OAAhB,CAAyBC,UAAzB,MAAyBA,UAAzB,CAAqCC,QAArC,MAAqCA,QAArC,iGAAoD,iBAAMC,QAAN,sIACxDC,MADwD,CAC/C,CACXC,OAAO,CAAE,CACL,eAAgB,kBADX,CADE,CAD+C,CAMxDC,IANwD,CAMjDC,IAAI,CAACC,SAAL,CAAe,CAAEV,IAAI,CAAJA,IAAF,CAAQC,KAAK,CAALA,KAAR,CAAeC,OAAO,CAAPA,OAAf,CAAwBC,UAAU,CAAVA,UAAxB,CAAoCC,QAAQ,CAARA,QAApC,CAAf,CANiD,uCAQxCP,CAAAA,KAAK,CAACc,IAAN,CAAW,4BAAX,CAAyCH,IAAzC,CAA+CF,MAA/C,CARwC,QAQpDM,GARoD,eAS1DC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAP,QAAQ,CAAC,CACLU,IAAI,CAAEpB,SADD,CAELqB,OAAO,CAAEJ,GAAG,CAACK,IAFR,CAAD,CAAR,CAKAC,KAAK,CAAC,sBAAD,CAAyB,SAAzB,CAAL,CAf0D,iFAiB1DA,KAAK,CAAC,yBAAD,CAA4B,SAA5B,CAAL,CACAb,QAAQ,CAAC,CAAEU,IAAI,CAAEnB,cAAR,CAAD,CAAR,CAlB0D,qEAApD,iEAAd,CAsBA,cAAeG,CAAAA,KAAf","sourcesContent":["import { ADD_STAFF, ADD_STAFF_FAIL } from './type';\nimport axios from 'axios';\nimport setAlert from './aleart';\n\nconst Staff = ({ name, phone, address, agencyName, isDriver }) => async dispatch => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    };\n    const body = JSON.stringify({ name, phone, address, agencyName, isDriver});\n    try {\n        const res = await axios.post('/api/admins/admin/addStaff', body, config);\n        console.log(res)\n        dispatch({\n            type: ADD_STAFF,\n            payload: res.data\n        });\n        \n        alert('Staff has been added', 'success');\n    } catch (err) {\n        alert('staff is already exists', 'success');\n        dispatch({ type: ADD_STAFF_FAIL });\n    }\n};\n\nexport default Staff;"]},"metadata":{},"sourceType":"module"}