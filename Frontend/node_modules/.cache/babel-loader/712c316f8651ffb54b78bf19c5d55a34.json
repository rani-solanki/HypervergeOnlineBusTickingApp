{"ast":null,"code":"import _regeneratorRuntime from\"/home/rani/Documents/Red_bus_app/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/rani/Documents/Red_bus_app/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import setAlert from'./aleart';import{STATUS_ERROR,FIND_BUSSTATUS}from\"./type\";// Get the bus current bus status\nexport var getBusStatus=function getBusStatus(busId){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res,errors;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/buses/status/\".concat(busId));case 3:res=_context.sent;if(!res){_context.next=8;break;}return _context.abrupt(\"return\",dispatch({type:FIND_BUSSTATUS,payload:res.data}));case 8:return _context.abrupt(\"return\",dispatch({type:STATUS_ERROR,payload:res.data}));case 9:_context.next=17;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0);errors=_context.t0.response.data.errors;if(errors){errors.forEach(function(error){dispatch(setAlert(error.msg,\"danger\"));});}dispatch({type:STATUS_ERROR});case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};","map":{"version":3,"sources":["/home/rani/Documents/Red_bus_app/Frontend/src/action/busStatus.js"],"names":["axios","setAlert","STATUS_ERROR","FIND_BUSSTATUS","getBusStatus","busId","dispatch","get","res","type","payload","data","console","log","errors","response","forEach","error","msg"],"mappings":"6TAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,OAASC,YAAT,CAAuBC,cAAvB,KAA6C,QAA7C,CAEA;AACA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,iGAAW,iBAAMC,QAAN,uKAEbN,CAAAA,KAAK,CAACO,GAAN,6BAA+BF,KAA/B,EAFa,QAEzBG,GAFyB,mBAG3BA,GAH2B,yDAIpBF,QAAQ,CAAC,CACZG,IAAI,CAAEN,cADM,CAEZO,OAAO,CAAEF,GAAG,CAACG,IAFD,CAAD,CAJY,yCASpBL,QAAQ,CAAC,CACZG,IAAI,CAAEP,YADM,CAEZQ,OAAO,CAAEF,GAAG,CAACG,IAFD,CAAD,CATY,0FAgB/BC,OAAO,CAACC,GAAR,cACMC,MAjByB,CAiBhB,YAAIC,QAAJ,CAAaJ,IAAb,CAAkBG,MAjBF,CAkB/B,GAAIA,MAAJ,CAAY,CACRA,MAAM,CAACE,OAAP,CAAe,SAACC,KAAD,CAAW,CACtBX,QAAQ,CAACL,QAAQ,CAACgB,KAAK,CAACC,GAAP,CAAY,QAAZ,CAAT,CAAR,CACH,CAFD,EAGH,CACDZ,QAAQ,CAAC,CACLG,IAAI,CAAEP,YADD,CAAD,CAAR,CAvB+B,qEAAX,gEAArB","sourcesContent":["import axios from \"axios\";\nimport setAlert from './aleart';\nimport { STATUS_ERROR, FIND_BUSSTATUS } from \"./type\";\n\n// Get the bus current bus status\nexport const getBusStatus = (busId) => async(dispatch) =>{\n    try {\n        const res = await axios.get(`/api/buses/status/${busId}`);\n        if (res) {\n            return dispatch({\n                type: FIND_BUSSTATUS,\n                payload: res.data,\n            });\n        }else {\n            return dispatch({\n                type: STATUS_ERROR,\n                payload: res.data,\n            });\n        }\n        \n    } catch (err) {\n        console.log(err)\n        const errors = err.response.data.errors;\n        if (errors) {\n            errors.forEach((error) => {\n                dispatch(setAlert(error.msg, \"danger\"));\n            });\n        }\n        dispatch({\n            type: STATUS_ERROR,\n        });\n    }\n};\n"]},"metadata":{},"sourceType":"module"}